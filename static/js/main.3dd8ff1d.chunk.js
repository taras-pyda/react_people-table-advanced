(this["webpackJsonpreact_people-table-advanced"]=this["webpackJsonpreact_people-table-advanced"]||[]).push([[0],{21:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var a=c(14),n=c.n(a),r=c(5),s=c(1),l=c(2),o=(c(21),c(0)),j=function(){return Object(o.jsx)("header",{className:"Header",children:Object(o.jsxs)("nav",{className:"Header__Nav",children:[Object(o.jsx)(r.b,{to:"/",className:"Header__Link",children:"Home Page"}),Object(o.jsx)(r.b,{to:"people",children:"People"})]})})},b=function(){return Object(o.jsx)("h1",{children:"Home Page"})},i=c(10),d=c(4),h=c(16),m=c(15),p=c.n(m),u=c(8),O=c.n(u),x=function(e){var t=e.person,c=t.name,a=t.born,n=t.sex,s=Object(l.f)().search,j="".concat(c.toLocaleLowerCase().replace(/ /g,"-"),"-").concat(a);return Object(o.jsx)(r.b,{to:{pathname:j,search:s},className:O()("PersonName",{"PersonName--female":"m"!==n}),children:c})},_=function(e){var t=e.person,c=t.sex,a=t.born,n=t.died,r=t.mother,s=t.father;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("td",{className:"PeopleTable__Item",children:Object(o.jsx)(x,{person:t})}),Object(o.jsx)("td",{className:"PeopleTable__Item",children:c}),Object(o.jsx)("td",{className:"PeopleTable__Item",children:a}),Object(o.jsx)("td",{className:"PeopleTable__Item",children:n}),Object(o.jsx)("td",{className:"PeopleTable__Item",children:r?Object(o.jsx)(x,{person:r}):t.motherName||"Unknown"}),Object(o.jsx)("td",{className:"PeopleTable__Item",children:s?Object(o.jsx)(x,{person:s}):t.fatherName||"Unknown"})]})},f=function(e){var t=e.people,c=e.getUpdatedPeople,a=Object(r.c)(),n=Object(d.a)(a,1)[0],j=n.get("query")||"",b=Object(s.useState)(j),i=Object(d.a)(b,2),m=i[0],u=i[1],x=Object(l.g)(),f=n.get("sortBy"),P=n.get("sortOrder"),T=Object(l.h)().slug,N=Object(h.a)(t);j&&(N=c(N=N.filter((function(e){var t=e.name,c=e.motherName,a=e.fatherName;return t.toLowerCase().includes(j)||(null===c||void 0===c?void 0:c.toLowerCase().includes(j))||(null===a||void 0===a?void 0:a.toLowerCase().includes(j))})))),f&&(N=N.sort((function(e,t){switch(f){case"name":case"sex":return"asc"===P?e[f].localeCompare(t[f]):t[f].localeCompare(e[f]);case"born":case"died":return"asc"===P?+e[f]-+t[f]:+t[f]-+e[f];default:return 0}})));var g=Object(s.useCallback)(p()((function(e){e?n.set("query",e.toLowerCase().trimLeft()):n.delete("query"),x("?".concat(n.toString()))}),500),[]),v=function(e){var t,c=null===(t=e.currentTarget.textContent)||void 0===t?void 0:t.toLowerCase().replace("*","");c&&n.set("sortBy",c),"asc"===P?n.set("sortOrder","desc"):n.set("sortOrder","asc"),x("?".concat(n.toString()))};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("input",{type:"search",name:"searsh",value:m||"",placeholder:"Enter name",onChange:function(e){var t=e.target.value;u(t),g(t)}}),Object(o.jsxs)("table",{className:"PeopleTable",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{className:"PeopleTable__Header",children:[Object(o.jsx)("th",{className:"PeopleTable__Title PeopleTable__Title--sort",onClick:v,children:"name"===f?"Name*":"Name"}),Object(o.jsx)("th",{className:"PeopleTable__Title PeopleTable__Title--sort",onClick:v,children:"sex"===f?"Sex*":"Sex"}),Object(o.jsx)("th",{className:"PeopleTable__Title PeopleTable__Title--sort",onClick:v,children:"born"===f?"Born*":"Born"}),Object(o.jsx)("th",{className:"PeopleTable__Title PeopleTable__Title--sort",onClick:v,children:"died"===f?"Died*":"Died"}),Object(o.jsx)("th",{className:"PeopleTable__Title",children:"Mother"}),Object(o.jsx)("th",{className:"PeopleTable__Title",children:"Father"})]})}),Object(o.jsx)("tbody",{children:N.map((function(e){var t="".concat(e.name.toLowerCase().replace(/ /g,"-"),"-").concat(e.born);return Object(o.jsx)("tr",{className:O()("PeopleTable__Person",{"PeopleTable__Person--selected":t===T}),children:Object(o.jsx)(_,{person:e})},e.name)}))})]})]})},P=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],n=function(e){var t=function(e,t,c){return e.find((function(e){return e.name===t[c]}))||null};return e.map((function(c){return Object(i.a)(Object(i.a)({},c),{},{father:t(e,c,"fatherName"),mother:t(e,c,"motherName")})}))};return Object(s.useEffect)((function(){fetch("https://mate-academy.github.io/react_people-table/api/people.json").then((function(e){return e.json()})).then((function(e){return a(n(e))}))}),[]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{children:"People page"}),c.length>0&&Object(o.jsx)(f,{people:c,getUpdatedPeople:n})]})},T=function(){return Object(o.jsx)("h1",{children:"Page not found"})},N=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(j,{}),Object(o.jsx)("section",{children:Object(o.jsxs)(l.d,{children:[Object(o.jsx)(l.b,{path:"/",element:Object(o.jsx)(b,{})}),Object(o.jsx)(l.b,{path:"home",element:Object(o.jsx)(l.a,{replace:!0,to:"/"})}),Object(o.jsx)(l.b,{path:"people",element:Object(o.jsx)(P,{}),children:Object(o.jsx)(l.b,{path:":slug",element:Object(o.jsx)(P,{})})}),Object(o.jsx)(l.b,{path:"*",element:Object(o.jsx)(T,{})})]})})]})};n.a.render(Object(o.jsx)(r.a,{children:Object(o.jsx)(N,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.3dd8ff1d.chunk.js.map